<html><head></head><body>
  <div id="_idContainer038">
   <h1 class="chapter-number" id="_idParaDest-77">
    <a id="_idTextAnchor100">
    </a>
    <span class="koboSpan" id="kobo.1.1">
     4
    </span>
   </h1>
   <h1 id="_idParaDest-78">
    <a id="_idTextAnchor101">
    </a>
    <span class="koboSpan" id="kobo.2.1">
     Demystifying Generated Code for Readability
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.3.1">
     This chapter delves into making LLM-generated code less ambiguous, and more accessible and comprehensible.
    </span>
    <span class="koboSpan" id="kobo.3.2">
     We’ll explore techniques to enhance the explainability of code from LLMs, ensuring the logic and decision-making behind LLM-generated code are clear.
    </span>
    <span class="koboSpan" id="kobo.3.3">
     By aiding a better understanding of code from LLMs, the chapter aims to promote transparency and trust in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.4.1">
      software development.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.5.1">
     This chapter has bad and good code and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.6.1">
      prompt examples.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.7.1">
     This chapter will help you gain insights into strategies for improving the readability of code from LLMs, nurturing a collaborative and informed approach to leveraging these powerful language models in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.8.1">
      coding practices.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.9.1">
     From this chapter, you should learn how to use LLMs/chatbots to generate more readable code and summarize lengthy code blocks for understanding by humans using LLMs to create documentation and comments to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.10.1">
      aid readability.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.11.1">
     This chapter covers the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.12.1">
      following topics:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.13.1">
      Generating more
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.14.1">
       readable code
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.15.1">
      Summarizing code
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.16.1">
       for understanding
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.17.1">
       Generating documentation
      </span>
     </span>
    </li>
   </ul>
   <h1 id="_idParaDest-79">
    <a id="_idTextAnchor102">
    </a>
    <span class="koboSpan" id="kobo.18.1">
     Technical requirements
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.19.1">
     For this chapter, you’ll need
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.20.1">
      the following:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.21.1">
      Access to an LLM/chatbot such as GPT-4, Gemini, or Claude 3 – each requires a login.
     </span>
     <span class="koboSpan" id="kobo.21.2">
      For GPT-4, you’ll need an OpenAI account, and for Gemini, you’ll need a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.22.1">
       Google account.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.23.1">
      A Python IDE such as Spyder, IDLE, PyCharm, Eclipse, or Visual Studio.
     </span>
     <span class="koboSpan" id="kobo.23.2">
      An online interpreter will not be good
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.24.1">
       enough here.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.25.1">
      An HTML interpreter, such as
     </span>
     <a href="https://htmledit.squarefree.com/">
      <span class="koboSpan" id="kobo.26.1">
       https://htmledit.squarefree.com/
      </span>
     </a>
     <span class="koboSpan" id="kobo.27.1">
      ,
     </span>
     <a href="https://onecompiler.com/html">
      <span class="koboSpan" id="kobo.28.1">
       https://onecompiler.com/html
      </span>
     </a>
     <span class="koboSpan" id="kobo.29.1">
      , or
     </span>
     <a href="https://www.w3schools.com/tryit/">
      <span class="koboSpan" id="kobo.30.1">
       https://www.w3schools.com/tryit/
      </span>
     </a>
     <span class="koboSpan" id="kobo.31.1">
      , or a website editor: Wix, GoDaddy, One.com, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.32.1">
       so on.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.33.1">
      Get the code in this book
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.34.1">
       here:
      </span>
     </span>
     <a href="https://github.com/PacktPublishing/Coding-with-ChatGPT-and-other-LLMs/tree/main/Chapter4">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.35.1">
        https://github.com/PacktPublishing/Coding-with-ChatGPT-and-other-LLMs/tree/main/Chapter4
       </span>
      </span>
     </a>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.36.1">
     Now, let’s find out how to use Claude, Gemini, and ChatGPT to start off well and write code that is
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.37.1">
      very readable.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-80">
    <a id="_idTextAnchor103">
    </a>
    <span class="koboSpan" id="kobo.38.1">
     Generating more readable code
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.39.1">
     In this section, you will learn how to
    </span>
    <a id="_idIndexMarker247">
    </a>
    <span class="koboSpan" id="kobo.40.1">
     generate code that others can easily read and get moving without them having to ponder its inner workings
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.41.1">
      for hours.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.42.1">
     If we are writing code, we want it to be used and that means it should be understood by other people, especially if we want someone to expand upon it.
    </span>
    <span class="koboSpan" id="kobo.42.2">
     They’re much more likely to bother if we make our code easy
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.43.1">
      to read.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.44.1">
     In the subsection
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.45.1">
      Code to compress data, written in Python 3.10
     </span>
    </em>
    <span class="koboSpan" id="kobo.46.1">
     , we’ll ask an LLM for some code to compress data, but first, here’s an intro to what data compression is, so we know a bit more about what we’re doing.
    </span>
    <span class="koboSpan" id="kobo.46.2">
     Data compression is important for using devices and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.47.1">
      the internet.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-81">
    <a id="_idTextAnchor104">
    </a>
    <span class="koboSpan" id="kobo.48.1">
     Introduction to data compression methods
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.49.1">
     Here’s some background on what
    </span>
    <a id="_idIndexMarker248">
    </a>
    <span class="koboSpan" id="kobo.50.1">
     data compression is so that the following section is easier
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.51.1">
      to understand.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.52.1">
     Lossless data compression
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.53.1">
     Lossless data compression
    </span>
    <a id="_idIndexMarker249">
    </a>
    <span class="koboSpan" id="kobo.54.1">
     means the signal and the
    </span>
    <a id="_idIndexMarker250">
    </a>
    <span class="koboSpan" id="kobo.55.1">
     noise are compressed, nothing is lost, and everything can be
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.56.1">
      re-created [
     </span>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.57.1">
       Wiki_LZMA2
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.58.1">
      ].
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.59.1">
     An example of lossless compression would be a dataset like
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.60.1">
      this: [1,1,1,1,1,1,1….1,1,1,1,1,1,0,0,0,0,0,0…].
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.61.1">
     This dataset could have any number of ones and any number of zeros, but a value can be represented by just the count of each and the name of each.
    </span>
    <span class="koboSpan" id="kobo.61.2">
     If there were 213 ones and 789 zeros, the lossless compression
    </span>
    <a id="_idIndexMarker251">
    </a>
    <span class="koboSpan" id="kobo.62.1">
     method
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.63.1">
      Run-Length Encoding
     </span>
    </strong>
    <span class="koboSpan" id="kobo.64.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.65.1">
      RLE
     </span>
    </strong>
    <span class="koboSpan" id="kobo.66.1">
     ) would call it [(213, 1), (789,0)].
    </span>
    <span class="koboSpan" id="kobo.66.2">
     The data is now just 4 numbers, not 213+789 = 1,002 numbers, which is a compression ratio of 1002/4 = 250.5 [
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.67.1">
      WikiDataComp
     </span>
    </em>
    <span class="koboSpan" id="kobo.68.1">
     ].
    </span>
    <span class="koboSpan" id="kobo.68.2">
     This has managed a good compression ratio without losing anything.
    </span>
    <span class="koboSpan" id="kobo.68.3">
     This could be real data, for example, the answer to the question, “Is the windscreen
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.69.1">
      wiper on?”.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.70.1">
     Use lossless compression when you have a signal that tends to be constant for a long while.
    </span>
    <span class="koboSpan" id="kobo.70.2">
     If you use it for very precise or always varying data, it’ll, instead, take up more space on
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.71.1">
      your drive!
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.72.1">
     LZMA
    </span>
    <a id="_idIndexMarker252">
    </a>
    <span class="koboSpan" id="kobo.73.1">
     is another type of lossless compression method, which we shall use in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.74.1">
      a moment.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.75.1">
     Lossy compression
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.76.1">
     A second type of
    </span>
    <a id="_idIndexMarker253">
    </a>
    <span class="koboSpan" id="kobo.77.1">
     compression is called
    </span>
    <a id="_idIndexMarker254">
    </a>
    <span class="koboSpan" id="kobo.78.1">
     lossy compression, where the algorithm or method tries to keep the signal and eliminate some level of noise.
    </span>
    <span class="koboSpan" id="kobo.78.2">
     For lossy compression, there can be different levels of compression, offering a trade-off of fidelity and file size: more compression means less fidelity – more of the signal and noise are thrown out
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.79.1">
      or zeroed.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.80.1">
     Examples
    </span>
    <a id="_idIndexMarker255">
    </a>
    <span class="koboSpan" id="kobo.81.1">
     of
    </span>
    <a id="_idIndexMarker256">
    </a>
    <span class="koboSpan" id="kobo.82.1">
     lossy compression
    </span>
    <a id="_idIndexMarker257">
    </a>
    <span class="koboSpan" id="kobo.83.1">
     include
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.84.1">
      Discrete Fourier Transforms
     </span>
    </strong>
    <span class="koboSpan" id="kobo.85.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.86.1">
      DFTs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.87.1">
     ),
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.88.1">
      Discrete Wavelet Transforms
     </span>
    </strong>
    <span class="koboSpan" id="kobo.89.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.90.1">
      DWTs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.91.1">
     ), or, best yet,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.92.1">
      Discrete Cosine Transforms
     </span>
    </strong>
    <span class="koboSpan" id="kobo.93.1">
     (
    </span>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.94.1">
       DCTs
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.95.1">
      ) [
     </span>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.96.1">
       Wiki_Wavelets
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.97.1">
      ].
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.98.1">
     DCTs
    </span>
    <a id="_idIndexMarker258">
    </a>
    <span class="koboSpan" id="kobo.99.1">
     are used in a lot of standard compression methods for
    </span>
    <a id="_idIndexMarker259">
    </a>
    <span class="koboSpan" id="kobo.100.1">
     images (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.101.1">
      JPEG
     </span>
    </strong>
    <span class="koboSpan" id="kobo.102.1">
     ), video (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.103.1">
      MPEG
     </span>
    </strong>
    <span class="koboSpan" id="kobo.104.1">
     ), audio (Dolby Digital, MP3, AAC), digital television (HDTV, SDTV), and
    </span>
    <a id="_idIndexMarker260">
    </a>
    <span class="koboSpan" id="kobo.105.1">
     digital radio (AAC+,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.106.1">
      DAB) [Wiki_Cosine].
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.107.1">
     DCTs transform data from changing over time to being made up of lots of cosine waves of differing frequencies.
    </span>
    <span class="koboSpan" id="kobo.107.2">
     It sounds ridiculously simple, but you can represent most things this way.
    </span>
    <span class="koboSpan" id="kobo.107.3">
     I did simplify it.
    </span>
    <span class="koboSpan" id="kobo.107.4">
     You generally keep the low-frequency waves and zero out the high-frequency waves, which are assumed to be noise.
    </span>
    <span class="koboSpan" id="kobo.107.5">
     Then the signal is changed back to the original time-based form: varying
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.108.1">
      over time.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.109.1">
     If you want more fidelity – a better signal – you’ll zero out fewer of the high-frequency waves but will have to suffer a file size that’s not reduced much.
    </span>
    <span class="koboSpan" id="kobo.109.2">
     If you really need a small file size, you’ll zero out more waves but that’ll leave you with a worse signal, image, or sound.
    </span>
    <span class="koboSpan" id="kobo.109.3">
     Another way to look at the compression ratio is the bit rate, measured in bits/second.
    </span>
    <span class="koboSpan" id="kobo.109.4">
     A higher bit rate can give a higher quality stream of data (e.g., video or sound) and, if it’s stored in a file, this means larger
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.110.1">
      file sizes.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.111.1">
     Alternatively, instead of zeroing the values, you can quantize them.
    </span>
    <span class="koboSpan" id="kobo.111.2">
     Here, rather than having highly precise values, you could turn them into less precise values – for example, 3.48724 could fit into the [3.4 to 3.5] bin or, even less precise, the [3 to 4] bin.
    </span>
    <span class="koboSpan" id="kobo.111.3">
     The values become a histogram – discrete and not so continuous.
    </span>
    <span class="koboSpan" id="kobo.111.4">
     This
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.112.1">
      saves space.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.113.1">
     To get the ideal compressed data, there needs to be a balance between good compression and a good quality of signal, image,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.114.1">
      or video.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.115.1">
     Learned compression or neural compression
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.116.1">
     A third type of
    </span>
    <a id="_idIndexMarker261">
    </a>
    <span class="koboSpan" id="kobo.117.1">
     compression is
    </span>
    <a id="_idIndexMarker262">
    </a>
    <span class="koboSpan" id="kobo.118.1">
     learned compression, where an ML method tries to learn what the signal is and keep that, at the expense of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.119.1">
      the noise.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.120.1">
     The first two kinds of compression, lossless and lossy, are rule based, but in learned compression, neural networks are used to learn the patterns in the data and extract specific statistical properties.
    </span>
    <span class="koboSpan" id="kobo.120.2">
     These learned methods are more adaptive [Gemini].
    </span>
    <span class="koboSpan" id="kobo.120.3">
     When I compressed tables or files of data with lossless and lossy methods, I had to try different methods and select the best method for each type of data [
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.121.1">
      Taylor_2022
     </span>
    </em>
    <span class="koboSpan" id="kobo.122.1">
     ].
    </span>
    <span class="koboSpan" id="kobo.122.2">
     This is an excellent method but is less adaptive than
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.123.1">
      learned compression.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.124.1">
     Learned
    </span>
    <a id="_idIndexMarker263">
    </a>
    <span class="koboSpan" id="kobo.125.1">
     compression models are more adaptable and the
    </span>
    <a id="_idIndexMarker264">
    </a>
    <span class="koboSpan" id="kobo.126.1">
     model can continuously learn, thus improving with new
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.127.1">
      data [
     </span>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.128.1">
       Gemini
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.129.1">
      ].
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.130.1">
     A method of learned compression is
    </span>
    <a id="_idIndexMarker265">
    </a>
    <span class="koboSpan" id="kobo.131.1">
     the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.132.1">
      autoencoder
     </span>
    </strong>
    <span class="koboSpan" id="kobo.133.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.134.1">
      AE
     </span>
    </strong>
    <span class="koboSpan" id="kobo.135.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.135.2">
     It is a palindromic or mirror-shaped neural network that takes in data, compresses it in a tiny space – a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.136.1">
      latent space
     </span>
    </strong>
    <span class="koboSpan" id="kobo.137.1">
     , then reproduces the input data.
    </span>
    <span class="koboSpan" id="kobo.137.2">
     The output layer looks like and is the same size as the input layer.
    </span>
    <span class="koboSpan" id="kobo.137.3">
     These are the biggest layers, with layers reducing in size toward the middle, similar to two triangles, or perhaps a bowtie.
    </span>
    <span class="koboSpan" id="kobo.137.4">
     This is useful because the latent space is a really compressed version of the data – there’s no space for excess!
    </span>
    <span class="koboSpan" id="kobo.137.5">
     The first side or triangle is the encoder and the second side is the decoder.
    </span>
    <span class="koboSpan" id="kobo.137.6">
     The encoder first compresses the data, then the decoder reconstructs the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.138.1">
      input data.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.139.1">
     In learned compression, the balance between good compression and good quality is the loss
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.140.1">
      function [
     </span>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.141.1">
       Ioijilai
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.142.1">
      ].
     </span>
    </span>
   </p>
   <h4>
    <span class="koboSpan" id="kobo.143.1">
     Advantages of learned compression
    </span>
   </h4>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.144.1">
       Adaptability
      </span>
     </strong>
     <span class="koboSpan" id="kobo.145.1">
      : Unlike more
     </span>
     <a id="_idIndexMarker266">
     </a>
     <span class="koboSpan" id="kobo.146.1">
      traditional compression methods, learned compression models can adapt to complex and diverse data types, such as scientific data, because of relationships
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.147.1">
       between variables.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.148.1">
       Efficiency
      </span>
     </strong>
     <span class="koboSpan" id="kobo.149.1">
      : Learned compression models can sometimes compress better than
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.150.1">
       older methods:
      </span>
     </span>
     <ul>
      <li>
       <span class="koboSpan" id="kobo.151.1">
        Learned models can learn the statistical properties of language and underlying structures in audio data, so can compress data
       </span>
       <span class="No-Break">
        <span class="koboSpan" id="kobo.152.1">
         more efficiently.
        </span>
       </span>
      </li>
      <li>
       <strong class="bold">
        <span class="koboSpan" id="kobo.153.1">
         Convolutional Neural Networks
        </span>
       </strong>
       <span class="koboSpan" id="kobo.154.1">
        (
       </span>
       <strong class="bold">
        <span class="koboSpan" id="kobo.155.1">
         CNNs
        </span>
       </strong>
       <span class="koboSpan" id="kobo.156.1">
        ) are especially adept at detecting patterns and redundancies
       </span>
       <a id="_idIndexMarker267">
       </a>
       <span class="koboSpan" id="kobo.157.1">
        in images and videos, so can compress more effectively than JPEG and MPEG.
       </span>
       <span class="koboSpan" id="kobo.157.2">
        The effect is more pronounced in
       </span>
       <span class="No-Break">
        <span class="koboSpan" id="kobo.158.1">
         higher-resolution data.
        </span>
       </span>
      </li>
      <li>
       <span class="koboSpan" id="kobo.159.1">
        Overall, the higher possible complexity of ML models can enable the learning of more intricate structures, leading to
       </span>
       <span class="No-Break">
        <span class="koboSpan" id="kobo.160.1">
         better compression.
        </span>
       </span>
      </li>
     </ul>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.161.1">
       Generating data
      </span>
     </strong>
     <span class="koboSpan" id="kobo.162.1">
      : Decoders
     </span>
     <a id="_idIndexMarker268">
     </a>
     <span class="koboSpan" id="kobo.163.1">
      can create more data examples like the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.164.1">
       input data.
      </span>
     </span>
    </li>
   </ul>
   <h4>
    <span class="koboSpan" id="kobo.165.1">
     Disadvantages of learned compression
    </span>
   </h4>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.166.1">
       Complexity
      </span>
     </strong>
     <span class="koboSpan" id="kobo.167.1">
      : It can be
     </span>
     <a id="_idIndexMarker269">
     </a>
     <span class="koboSpan" id="kobo.168.1">
      more effective, but it is also more difficult
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.169.1">
       to understand.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.170.1">
       Computational costs
      </span>
     </strong>
     <span class="koboSpan" id="kobo.171.1">
      : These ML models can be very expensive to train and run.
     </span>
     <span class="koboSpan" id="kobo.171.2">
      This is a bigger disadvantage for applications that require real-time processing, such as autonomous vehicles.
     </span>
     <span class="koboSpan" id="kobo.171.3">
      You might well have to deploy a simplified and optimized trained model to the edge or use specially
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.172.1">
       designed hardware.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.173.1">
       Lossy
      </span>
     </strong>
     <span class="koboSpan" id="kobo.174.1">
      : Learned compression can be lossy.
     </span>
     <span class="koboSpan" id="kobo.174.2">
      This means the trade-off between quality and compression needs to
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.175.1">
       be struck.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.176.1">
     My background includes creating data compression software.
    </span>
    <span class="koboSpan" id="kobo.176.2">
     Working with others at the University of Warwick, I created data compression software methodologies for Jaguar Land Rover and Onsemi, an American semiconductor manufacturer.
    </span>
    <span class="koboSpan" id="kobo.176.3">
     If you want to know more, I’ve got a paper or two on compression, as well as other ML research
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.177.1">
      here:
     </span>
    </span>
    <a href="https://scholar.google.com/citations?user=9lCeU94AAAAJ&amp;hl">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.178.1">
       https://scholar.google.com/citations?user=9lCeU94AAAAJ&amp;hl
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.179.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.180.1">
     After compression, you can store or transmit data.
    </span>
    <span class="koboSpan" id="kobo.180.2">
     But to get the data back, you’ll need to decompress
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.181.1">
      it, usually.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.182.1">
     Now, let’s get some code to do
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.183.1">
      compression ourselves.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-82">
    <a id="_idTextAnchor105">
    </a>
    <span class="koboSpan" id="kobo.184.1">
     Code to compress data, written in Python 3.10
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.185.1">
     There are at least three types of data compression: lossless compression, lossy compression, and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.186.1">
      learned compression.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.187.1">
     Let’s try the following code (see “Claude 3 provides the following output”); this is to compress data and make it smaller on file with a commonly used compression algorithm called
    </span>
    <a id="_idIndexMarker270">
    </a>
    <span class="koboSpan" id="kobo.188.1">
     the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.189.1">
      Lempel-Ziv-Markov chain algorithm
     </span>
    </strong>
    <span class="koboSpan" id="kobo.190.1">
     or
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.191.1">
      LZMA2
     </span>
    </strong>
    <span class="koboSpan" id="kobo.192.1">
     .
    </span>
    <span class="koboSpan" id="kobo.192.2">
     For this code, we will use lossless data compression, courtesy
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.193.1">
      of LZMA.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.194.1">
     LZMA2
    </span>
    <a id="_idIndexMarker271">
    </a>
    <span class="koboSpan" id="kobo.195.1">
     is more powerful than LZMA; it’s a container format for uncompressed and LZMA data, as well as the compression of data that’s partially incompressible [
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.196.1">
       Wiki_LZMA2, Taylor_2022
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.197.1">
      ].
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.198.1">
     Anyway, the code here should compress data
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.199.1">
      with LZMA2.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.200.1">
     The code is courtesy of the Claude
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.201.1">
      3 LLM.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.202.1">
     Asking Claude 3 to write some bad code
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.203.1">
     Let’s start with
    </span>
    <a id="_idIndexMarker272">
    </a>
    <span class="koboSpan" id="kobo.204.1">
     how to get code that works but is hard to read.
    </span>
    <span class="koboSpan" id="kobo.204.2">
     This is to compare it with code that you might have already but could be more explainable.
    </span>
    <span class="koboSpan" id="kobo.204.3">
     LLMs will hopefully never give you this kind of code unless you explicitly ask for poorly
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.205.1">
      written code.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.206.1">
     We will use the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.207.1">
      following prompt:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.208.1">
Please give me some Python 3.10 code that compresses tabular data with LZMA2 that is very hard to understand because it's badly written.</span></pre>
   <p>
    <span class="koboSpan" id="kobo.209.1">
     Claude 3 provides the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.210.1">
      following output:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.211.1">
Here's an intentionally obfuscated and poorly written Python 3.10 code that compresses tabular data using the LZMA2 algorithm. </span><span class="koboSpan" id="kobo.211.2">This code is designed to be hard to understand and maintain:
python
import lzma
from typing import Any
def j(b):
    c=[]
    d=lzma.LZMACompressor(lzma.FORMAT_ALONE)
    for a in b:e=''.join([str(f)+'\t'for f in a]);e=e[:-1].encode();c.extend(list(d.compress(e)))
    c.extend(list(d.flush()))
    return bytes(c)
def l(m):
    o=[];p=lzma.LZMADecompressor();q=b''
    for s in [m]:  # Change: Iterate over a list containing the compressed data
        try:
            t=p.decompress(s)
            q+=t
        except lzma.LZMAError:
            u=p.flush()
            o.append(q.decode().split('\t'))
            q=u
    if q:
        o.append(q.decode().split('\t'))
    return o
def k(v):
    w=[];x=[]
    for y in v:x.extend([z.split('\t')for z in y])
    for a in zip(*x):w.append(list(a))
    return w
if __name__=='__main__':
    A=k([['Name','Age','City'],['Alice','25','New York'],['Bob','30','Los Angeles'],['Charlie','35','Chicago']])
    B=j(A)
    with open('compressed.lzma','wb')as C:C.write(B)
    with open('compressed.lzma','rb')as D:E=D.read()
    F=l(E)
    G=k(F)
    print(G)</span></pre>
   <p>
    <span class="koboSpan" id="kobo.212.1">
     You can find this
    </span>
    <a id="_idIndexMarker273">
    </a>
    <span class="koboSpan" id="kobo.213.1">
     code in the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.214.1">
      LZMAcompress_bad.py
     </span>
    </strong>
    <span class="koboSpan" id="kobo.215.1">
     file in our GitHub repo
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.216.1">
      found here:
     </span>
    </span>
   </p>
   <p>
    <a href="https://github.com/PacktPublishing/Coding-with-ChatGPT-and-Other-LLMs/tree/main/Chapter4//LZMAcompress_bad.py">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.217.1">
       https://github.com/PacktPublishing/Coding-with-ChatGPT-and-Other-LLMs/tree/main/Chapter4//LZMAcompress_bad.py
      </span>
     </span>
    </a>
   </p>
   <p>
    <span class="koboSpan" id="kobo.218.1">
     This code took a few rounds of debugging, but what you have here works for the little toy dataset given.
    </span>
    <span class="koboSpan" id="kobo.218.2">
     Claude 3 was very helpful.
    </span>
    <span class="koboSpan" id="kobo.218.3">
     It made one mistake not correcting a bug, but the whole process was very easy.
    </span>
    <span class="koboSpan" id="kobo.218.4">
     You just need to mention the code again if the chatbot has already seen it or paste it into the chat field if it’s not been seen, then state the problem, giving the line the error message says the error is about.
    </span>
    <span class="koboSpan" id="kobo.218.5">
     Then, the chatbot should give a better version of the code.
    </span>
    <span class="koboSpan" id="kobo.218.6">
     Do this until the code works nicely for you, then
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.219.1">
      test it.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.220.1">
     There’s not much commenting.
    </span>
    <span class="koboSpan" id="kobo.220.2">
     The variable and function names are really unclear.
    </span>
    <span class="koboSpan" id="kobo.220.3">
     It sometimes does a great deal in one line, and in a
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.221.1">
      for
     </span>
    </strong>
    <span class="koboSpan" id="kobo.222.1">
     statement line at that!
    </span>
    <span class="koboSpan" id="kobo.222.2">
     Conditional statements shouldn’t have calculations or string operations in them!
    </span>
    <span class="koboSpan" id="kobo.222.3">
     It prints
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.223.1">
      G
     </span>
    </strong>
    <span class="koboSpan" id="kobo.224.1">
     at the end, whatever that is.
    </span>
    <span class="koboSpan" id="kobo.224.2">
     Variables are sometimes single lowercase letters and sometimes single uppercase letters –
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.225.1">
      no convention.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.226.1">
     I don’t really like that the ages are strings – couldn’t they be
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.227.1">
      ints
     </span>
    </strong>
    <span class="koboSpan" id="kobo.228.1">
     or at
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.229.1">
      least
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.230.1">
       floats
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.231.1">
      ?
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.232.1">
     It’s using
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.233.1">
      try/except
     </span>
    </strong>
    <span class="koboSpan" id="kobo.234.1">
     , which is good, and it’s using different functions, which are not large, so the code is not necessarily poor from an operation point
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.235.1">
      of view.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.236.1">
     I’m not sure if
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.237.1">
      l()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.238.1">
     will always
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.239.1">
      return something.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.240.1">
     This code is really unclear.
    </span>
    <span class="koboSpan" id="kobo.240.2">
     I would have to look at it for a while to figure out what’s
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.241.1">
      going on.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.242.1">
     It uses
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.243.1">
      for
     </span>
    </strong>
    <span class="koboSpan" id="kobo.244.1">
     statements, which
    </span>
    <a id="_idIndexMarker274">
    </a>
    <span class="koboSpan" id="kobo.245.1">
     are unpopular because they’re slow in languages like Python compared with
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.246.1">
      vectorized ways.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.247.1">
     Well, that’s what I caught from a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.248.1">
      quick look.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.249.1">
     Here is what Claude 3 says about its own example of bad code
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.250.1">
     The intentionally obfuscated and poorly written code that compresses tabular data using the LZMA2 algorithm in Python 3.10 exhibits several characteristics that make it hard to read and understand.
    </span>
    <span class="koboSpan" id="kobo.250.2">
     Here are
    </span>
    <a id="_idIndexMarker275">
    </a>
    <span class="koboSpan" id="kobo.251.1">
     some of the main issues with
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.252.1">
      the code:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.253.1">
       Poor variable naming
      </span>
     </strong>
     <span class="koboSpan" id="kobo.254.1">
      : The code uses single-letter variable names such as
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.255.1">
       a, b, c, d, e, f, m, n, o, p, q, r, s, t, u, v, w, x, y,
      </span>
     </strong>
     <span class="koboSpan" id="kobo.256.1">
      and
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.257.1">
       z
      </span>
     </strong>
     <span class="koboSpan" id="kobo.258.1">
      , which provide no meaningful information about the purpose or content of the variables.
     </span>
     <span class="koboSpan" id="kobo.258.2">
      This makes it extremely difficult to understand what each variable represents or what it’s being
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.259.1">
       used for.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.260.1">
       Lack of comments
      </span>
     </strong>
     <span class="koboSpan" id="kobo.261.1">
      : The code is completely devoid of comments or docstrings, which would normally provide explanations of the code’s purpose, functionality, and logic.
     </span>
     <span class="koboSpan" id="kobo.261.2">
      Without any comments, it becomes a guessing game to understand what the code is trying
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.262.1">
       to accomplish.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.263.1">
       Convoluted logic
      </span>
     </strong>
     <span class="koboSpan" id="kobo.264.1">
      : The logic for compressing and decompressing the tabular data is spread across multiple functions (
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.265.1">
       j, l,
      </span>
     </strong>
     <span class="koboSpan" id="kobo.266.1">
      and
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.267.1">
       k
      </span>
     </strong>
     <span class="koboSpan" id="kobo.268.1">
      ) and is unnecessarily complex.
     </span>
     <span class="koboSpan" id="kobo.268.2">
      The code uses nested list comprehensions, unnecessary type conversions, and obscure operations that make it challenging to follow the flow
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.269.1">
       of execution.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.270.1">
       Violation of coding conventions
      </span>
     </strong>
     <span class="koboSpan" id="kobo.271.1">
      : The code violates several Python coding conventions and best practices, such as using meaningful variable names, proper indentation and formatting, and separation of concerns.
     </span>
     <span class="koboSpan" id="kobo.271.2">
      This makes it harder for developers familiar with Python conventions to understand
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.272.1">
       the code.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.273.1">
       Lack of error handling
      </span>
     </strong>
     <span class="koboSpan" id="kobo.274.1">
      : The code does not include any error handling mechanisms or exception handling, which can lead to unexpected behavior and crashes in the case of errors or
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.275.1">
       edge cases.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.276.1">
       Mixing of functionality
      </span>
     </strong>
     <span class="koboSpan" id="kobo.277.1">
      : The code mixes functionality related to compression, decompression, and data manipulation, making it harder to follow and maintain.
     </span>
     <span class="koboSpan" id="kobo.277.2">
      Ideally, these concerns should be separated into distinct functions
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.278.1">
       or modules.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.279.1">
       Obscure type annotations
      </span>
     </strong>
     <span class="koboSpan" id="kobo.280.1">
      : While the code uses type annotations, the annotations themselves are obscure and unhelpful due to the poor variable naming conventions – for example, the type annotation
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.281.1">
       Any
      </span>
     </strong>
     <span class="koboSpan" id="kobo.282.1">
      is used for all variables, which defeats the purpose of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.283.1">
       type annotations.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.284.1">
       Unnecessary complexity
      </span>
     </strong>
     <span class="koboSpan" id="kobo.285.1">
      : The code introduces unnecessary complexity by using obscure techniques and terse expressions, sacrificing readability for brevity.
     </span>
     <span class="koboSpan" id="kobo.285.2">
      This makes it harder for developers to understand and maintain the code, especially if they are unfamiliar with
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.286.1">
       such techniques.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.287.1">
       Lack of modularity
      </span>
     </strong>
     <span class="koboSpan" id="kobo.288.1">
      : The code is not designed in a modular way, making it difficult to integrate or reuse in larger applications
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.289.1">
       or libraries.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.290.1">
       Limited extensibility
      </span>
     </strong>
     <span class="koboSpan" id="kobo.291.1">
      : Due to
     </span>
     <a id="_idIndexMarker276">
     </a>
     <span class="koboSpan" id="kobo.292.1">
      the obfuscated nature of the code and the lack of proper documentation or comments, it becomes challenging to extend or modify the code without risking unintended consequences or introducing
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.293.1">
       new bugs.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.294.1">
     Overall, the code exhibits numerous examples of poor coding practices and intentional obfuscation, making it extremely difficult to read, understand, and maintain.
    </span>
    <span class="koboSpan" id="kobo.294.2">
     While this exercise is valuable for understanding the challenges of working with poorly written code, it serves as a reminder of the importance of writing clear, readable, and well-documented code in real-world software
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.295.1">
      development scenarios.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.296.1">
     That was the end of the Claude
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.297.1">
      3 output.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.298.1">
     Next, we must get some code that both works well and is easy to read, following good practices.
    </span>
    <span class="koboSpan" id="kobo.298.2">
     Again, I went with the best coder LLM at the time,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.299.1">
      Claude 3.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-83">
    <a id="_idTextAnchor106">
    </a>
    <span class="koboSpan" id="kobo.300.1">
     Let’s look at some well-written code
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.301.1">
     We will now ask Claude 3 for some good code
    </span>
    <a id="_idIndexMarker277">
    </a>
    <span class="koboSpan" id="kobo.302.1">
     like the preceding: data compression
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.303.1">
      with Python:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.304.1">
Please give me some Python 3.10 code that compresses tabular data with LZMA2 that is easy to understand because it's well-written.</span></pre>
   <p>
    <span class="koboSpan" id="kobo.305.1">
     Claude 3 gives us the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.306.1">
      following output:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.307.1">
Here's a well-written Python 3.10 code that compresses tabular data using the LZMA2 algorithm. </span><span class="koboSpan" id="kobo.307.2">This code follows best practices and is designed to be easy to read and understand:
python
import lzma
from typing import List
def compress_tabular_data(tabular_data: List[List[str]]) -&gt; bytes:
    """
    Compresses tabular data using the LZMA2 algorithm.
</span><span class="koboSpan" id="kobo.307.3">    Args:
        tabular_data: A list of lists representing tabular data, where each inner list is a row.
</span><span class="koboSpan" id="kobo.307.4">    Returns:
        A bytes object containing the compressed tabular data.
</span><span class="koboSpan" id="kobo.307.5">    """
    compressor = lzma.LZMACompressor(lzma.FORMAT_ALONE)
    compressed_data = []
    for row in tabular_data:
        row_bytes = '\t'.join(row).encode() + b'\n'
        compressed_data.append(compressor.compress(row_bytes))
    compressed_data.append(compressor.flush())
    return b''.join(compressed_data)
def decompress_tabular_data(compressed_data: bytes) -&gt; List[List[str]]:
    """
    Decompresses tabular data compressed using the LZMA2 algorithm.
</span><span class="koboSpan" id="kobo.307.6">    Args:
        compressed_data: A bytes object containing the compressed tabular data.
</span><span class="koboSpan" id="kobo.307.7">    Returns:
        A list of lists representing the decompressed tabular data, where each inner list is a row.
</span><span class="koboSpan" id="kobo.307.8">    """
    decompressor = lzma.LZMADecompressor()
    decompressed_data = decompressor.decompress(compressed_data)
    rows = [row.split('\t') for row in decompressed_data.decode().split('\n') if row]
    return rows
if __name__ == '__main__':
    tabular_data = [
        ['Name', 'Age', 'City'],
        ['Alice', '25', 'New York'],
        ['Bob', '30', 'Los Angeles'],
        ['Charlie', '35', 'Chicago']
    ]
    # Compress tabular data
    compressed_data = compress_tabular_data(tabular_data)
    # Save compressed data to a file
    with open('compressed_data.lzma', 'wb') as file:
        file.write(compressed_data)
    # Load compressed data from the file
    with open('compressed_data.lzma', 'rb') as file:
        compressed_data = file.read()
    # Decompress tabular data
    decompressed_data = decompress_tabular_data(compressed_data)
    print(decompressed_data)</span></pre>
   <p>
    <span class="koboSpan" id="kobo.308.1">
     This code executes successfully.
    </span>
    <span class="koboSpan" id="kobo.308.2">
     You
    </span>
    <a id="_idIndexMarker278">
    </a>
    <span class="koboSpan" id="kobo.309.1">
     can find this code in the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.310.1">
      LZMAcompress_good.py
     </span>
    </strong>
    <span class="koboSpan" id="kobo.311.1">
     file in the GitHub repo
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.312.1">
      here:
     </span>
    </span>
    <a href="https://github.com/PacktPublishing/Coding-with-ChatGPT-and-other-LLMs/tree/main/Chapter4//LZMAcompress_good.py">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.313.1">
       https://github.com/PacktPublishing/Coding-with-ChatGPT-and-other-LLMs/tree/main/Chapter4//LZMAcompress_good.py
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.314.1">
      .
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.315.1">
     What Claude 3 says about its own good code
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.316.1">
     This code is easy to read and
    </span>
    <a id="_idIndexMarker279">
    </a>
    <span class="koboSpan" id="kobo.317.1">
     understand for the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.318.1">
      following reasons:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.319.1">
       Clear function names
      </span>
     </strong>
     <span class="koboSpan" id="kobo.320.1">
      : The function names
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.321.1">
       compress_tabular_data
      </span>
     </strong>
     <span class="koboSpan" id="kobo.322.1">
      and
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.323.1">
       decompress_tabular_data
      </span>
     </strong>
     <span class="koboSpan" id="kobo.324.1">
      clearly describe the purpose of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.325.1">
       each function
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.326.1">
       Type hints
      </span>
     </strong>
     <span class="koboSpan" id="kobo.327.1">
      : The code uses type hints to specify the expected types of function arguments and return values, making it easier to understand the input and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.328.1">
       output formats
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.329.1">
       Docstrings
      </span>
     </strong>
     <span class="koboSpan" id="kobo.330.1">
      : Each function has a docstring that provides a brief description of the function’s purpose, its arguments, and its
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.331.1">
       return value
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.332.1">
       Meaningful variable names
      </span>
     </strong>
     <span class="koboSpan" id="kobo.333.1">
      : The variable names used in the code are descriptive and self-explanatory, making it easier to understand what each
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.334.1">
       variable represents
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.335.1">
       Separation of concerns
      </span>
     </strong>
     <span class="koboSpan" id="kobo.336.1">
      : The code separates the compression and decompression logic into two distinct functions, making it easier to maintain
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.337.1">
       and extend
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.338.1">
       Proper indentation and formatting
      </span>
     </strong>
     <span class="koboSpan" id="kobo.339.1">
      : The code is properly indented and formatted, making it readable and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.340.1">
       visually appealing
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.341.1">
       Error handling
      </span>
     </strong>
     <span class="koboSpan" id="kobo.342.1">
      : While not explicitly shown in this example, the code can be extended to include error-handling mechanisms to handle potential exceptions or errors during compression
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.343.1">
       or decompression.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.344.1">
       Modular design
      </span>
     </strong>
     <span class="koboSpan" id="kobo.345.1">
      : The code is designed in a modular way, allowing for easy integration into larger applications
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.346.1">
       or libraries.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.347.1">
       Use of standard library
      </span>
     </strong>
     <span class="koboSpan" id="kobo.348.1">
      : The code uses the standard
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.349.1">
       lzma
      </span>
     </strong>
     <span class="koboSpan" id="kobo.350.1">
      module from the Python standard library, which is well-documented and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.351.1">
       widely used
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.352.1">
       Example usage
      </span>
     </strong>
     <span class="koboSpan" id="kobo.353.1">
      : The code
     </span>
     <a id="_idIndexMarker280">
     </a>
     <span class="koboSpan" id="kobo.354.1">
      includes an example usage in the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.355.1">
       if __name__ == '__main__'
      </span>
     </strong>
     <span class="koboSpan" id="kobo.356.1">
      block, making it easy to understand how to use
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.357.1">
       the functions
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.358.1">
     Overall, this code follows best practices for writing clean, readable, and maintainable Python code.
    </span>
    <span class="koboSpan" id="kobo.358.2">
     It should be easy to understand for developers familiar with Python and the LZMA2
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.359.1">
      compression algorithm.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.360.1">
     That was the end of the Claude 3 output and our discussion of what is good about its more readable version of the LZMA compression code
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.361.1">
      in Python.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.362.1">
     Now, let’s get to specific points that make code easy or hard to read
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.363.1">
      and understand.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-84">
    <a id="_idTextAnchor107">
    </a>
    <span class="koboSpan" id="kobo.364.1">
     What makes code hard or easy to read?
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.365.1">
     Let’s look at some practices that might lead to poor readability, and then we’ll look at how to get the readability as good
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.366.1">
      as possible.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-85">
    <a id="_idTextAnchor108">
    </a>
    <span class="koboSpan" id="kobo.367.1">
     Why is reading code hard?
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.368.1">
     Reading
    </span>
    <a id="_idIndexMarker281">
    </a>
    <span class="koboSpan" id="kobo.369.1">
     code is much harder than writing code for at least
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.370.1">
      three reasons:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.371.1">
      When writing code, you have to keep in mind the variables, algorithms, data, and structure of the feature you’re writing only.
     </span>
     <span class="koboSpan" id="kobo.371.2">
      When reading code, you must keep in mind all the information about wider functionality and potential functionalities that you’ve guessed from your reading of the code
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.372.1">
       so far.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.373.1">
      Thinking is easier than understanding someone else’s thinking –
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.374.1">
       vastly easier.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.375.1">
      It’s not your code – your baby, so it’s probably not as good as something you could write, or at least that’s the thinking of many programmers.
     </span>
     <span class="koboSpan" id="kobo.375.2">
      That’s the emotional aspect.
     </span>
     <span class="koboSpan" id="kobo.375.3">
      Alternatively, you might be thinking that the code is written by someone more intelligent and experienced, so you’ll not be able to
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.376.1">
       understand it.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.377.1">
     To understand someone else’s code, you need a working model of the code in your mind, as well as the aims of the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.378.1">
      project [
     </span>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.379.1">
       GameDev_Dieterich
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.380.1">
      ].
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.381.1">
     Don’t be afraid to read other people’s code and get an understanding of it.
    </span>
    <span class="koboSpan" id="kobo.381.2">
     You may well make good use of it and not have to re-write
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.382.1">
      the code.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.383.1">
     This reminds me of the time I had to read and use code from colleagues
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.384.1">
      in Czechia.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.385.1">
     In addition to trying to understand the C code (when I would normally code in C#, R, or MATLAB) and learn some more physics, some of the variables were in Czech, which I don’t speak.
    </span>
    <span class="koboSpan" id="kobo.385.2">
     So, I had to learn some Czech too.
    </span>
    <span class="koboSpan" id="kobo.385.3">
     Fortunately, I enjoy learning languages and already know plenty about physics.
    </span>
    <span class="koboSpan" id="kobo.385.4">
     Eventually, I understood the code and we worked together well, including visits to each other’s countries, UK and Czechia.
    </span>
    <span class="koboSpan" id="kobo.385.5">
     We got some great
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.386.1">
      products made.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.387.1">
     Of course, if you can communicate with the original coder, you can ask them questions about it.
    </span>
    <span class="koboSpan" id="kobo.387.2">
     Be polite – it’s their baby, which they might have taken a lot of time and energy
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.388.1">
      to create.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-86">
    <a id="_idTextAnchor109">
    </a>
    <span class="koboSpan" id="kobo.389.1">
     Dos and don’ts of readable code – how to make readable code
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.390.1">
     Looking at the opinions of coders, the following are factors that make code difficult or a joy
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.391.1">
      to read.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.392.1">
     Do not do these things
    </span>
   </h3>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.393.1">
      Inconsistencies, such
     </span>
     <a id="_idIndexMarker282">
     </a>
     <span class="koboSpan" id="kobo.394.1">
      as multiple different tab/indentation styles in one file or group of files or checking for a null and later checking for a non-null pointer, can confuse the reader who is trying to understand the code and ensure it’s working properly.
     </span>
     <span class="koboSpan" id="kobo.394.2">
      Keep naming conventions
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.395.1">
       consistent too.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.396.1">
      Use variable and function names that aren’t descriptive of what they are for, such as using celebrity names or movie titles even if the script has nothing to do
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.397.1">
       with films!
      </span>
     </span>
     <ul>
      <li>
       <span class="koboSpan" id="kobo.398.1">
        Using very similar function names can make bugs extremely tough to track down, such as
       </span>
       <strong class="source-inline">
        <span class="koboSpan" id="kobo.399.1">
         functionl()
        </span>
       </strong>
       <span class="koboSpan" id="kobo.400.1">
        and
       </span>
       <strong class="source-inline">
        <span class="koboSpan" id="kobo.401.1">
         functionL()
        </span>
       </strong>
       <span class="koboSpan" id="kobo.402.1">
        .
       </span>
       <span class="koboSpan" id="kobo.402.2">
        Make it easy enough for future coders (including yourself) to
       </span>
       <span class="No-Break">
        <span class="koboSpan" id="kobo.403.1">
         differentiate functions.
        </span>
       </span>
      </li>
     </ul>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.404.1">
       switch
      </span>
     </strong>
     <span class="koboSpan" id="kobo.405.1">
      statement excess: when editing someone else’s code, don’t simply add a
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.406.1">
       switch
      </span>
     </strong>
     <span class="koboSpan" id="kobo.407.1">
      statement if your case is covered because that could lead to fall-through cases being dispersed randomly amongst the standard cases and make it a headache to read and understand [
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.408.1">
       O’Reilly_Algo_Flow,
      </span>
     </em>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.409.1">
        Quora_Chen, StackOverflow_switch
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.410.1">
       ].
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.411.1">
      Use too many
     </span>
     <a id="_idIndexMarker283">
     </a>
     <span class="koboSpan" id="kobo.412.1">
      nested statements/layers of
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.413.1">
       if
      </span>
     </strong>
     <span class="koboSpan" id="kobo.414.1">
      statements: If an
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.415.1">
       if
      </span>
     </strong>
     <span class="koboSpan" id="kobo.416.1">
      statement starts in the middle of the screen, there is probably too
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.417.1">
       much nesting.
      </span>
     </span>
    </li>
   </ul>
   <h3>
    <span class="koboSpan" id="kobo.418.1">
     Do these things
    </span>
   </h3>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.419.1">
      Code should contain different functions and functions should
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.420.1">
       be simple:
      </span>
     </span>
     <ul>
      <li>
       <span class="koboSpan" id="kobo.421.1">
        Function names should reflect what they do, and functions should be very simple: one task for one function, not multiple tasks in one function.
       </span>
       <span class="koboSpan" id="kobo.421.2">
        Having such simple functions makes them easy
       </span>
       <span class="No-Break">
        <span class="koboSpan" id="kobo.422.1">
         to understand.
        </span>
       </span>
      </li>
     </ul>
    </li>
    <li>
     <span class="koboSpan" id="kobo.423.1">
      An alternative to overusing
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.424.1">
       if
      </span>
     </strong>
     <span class="koboSpan" id="kobo.425.1">
      statements is to use
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.426.1">
       switch
      </span>
     </strong>
     <span class="koboSpan" id="kobo.427.1">
      statements.
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.428.1">
       switch
      </span>
     </strong>
     <span class="koboSpan" id="kobo.429.1">
      statements are usually much faster than
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.430.1">
       if/else
      </span>
     </strong>
     <span class="koboSpan" id="kobo.431.1">
      statements too, especially when the
     </span>
     <a id="_idIndexMarker284">
     </a>
     <span class="koboSpan" id="kobo.432.1">
      number of conditions is large [
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.433.1">
       O’Reilly_Algo_Flow,
      </span>
     </em>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.434.1">
        Quora_Chen, StackOverflow_switch
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.435.1">
       ].
      </span>
     </span>
    </li>
   </ul>
   <h3>
    <span class="koboSpan" id="kobo.436.1">
     Some strategies to effectively use LLMs for code generation
    </span>
   </h3>
   <h4>
    <span class="koboSpan" id="kobo.437.1">
     Provide clear and specific prompts:
    </span>
   </h4>
   <ul>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.438.1">
       Be precise
      </span>
     </em>
     <span class="koboSpan" id="kobo.439.1">
      : Clearly articulate
     </span>
     <a id="_idIndexMarker285">
     </a>
     <span class="koboSpan" id="kobo.440.1">
      the desired functionality
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.441.1">
       or task.
      </span>
     </span>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.442.1">
       Give context
      </span>
     </em>
     <span class="koboSpan" id="kobo.443.1">
      : Provide relevant information about the project or
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.444.1">
       code base.
      </span>
     </span>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.445.1">
       Specify language
      </span>
     </em>
     <span class="koboSpan" id="kobo.446.1">
      : Indicate the programming language you want the code in and its version, such as
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.447.1">
       Python 3.10.
      </span>
     </span>
    </li>
   </ul>
   <h4>
    <span class="koboSpan" id="kobo.448.1">
     Iterate and refine:
    </span>
   </h4>
   <ul>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.449.1">
       Evaluate output
      </span>
     </em>
     <span class="koboSpan" id="kobo.450.1">
      : Carefully review the
     </span>
     <a id="_idIndexMarker286">
     </a>
     <span class="koboSpan" id="kobo.451.1">
      generated code for correctness
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.452.1">
       and readability.
      </span>
     </span>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.453.1">
       Provide feedback
      </span>
     </em>
     <span class="koboSpan" id="kobo.454.1">
      : If the code is incorrect or needs improvement, provide specific feedback to the LLM – for example, “This code works but please make it easier to read, especially in the
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.455.1">
        Xzy
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.456.1">
       function.”
      </span>
     </span>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.457.1">
       Iterate
      </span>
     </em>
     <span class="koboSpan" id="kobo.458.1">
      : Continue refining the prompt and iterating until you get the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.459.1">
       desired outcome.
      </span>
     </span>
    </li>
   </ul>
   <h4>
    <span class="koboSpan" id="kobo.460.1">
     Leverage LLM capabilities:
    </span>
   </h4>
   <ul>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.461.1">
       Code completion
      </span>
     </em>
     <span class="koboSpan" id="kobo.462.1">
      : Use LLMs
     </span>
     <a id="_idIndexMarker287">
     </a>
     <span class="koboSpan" id="kobo.463.1">
      to suggest code snippets or complete
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.464.1">
       unfinished lines.
      </span>
     </span>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.465.1">
       Function generation
      </span>
     </em>
     <span class="koboSpan" id="kobo.466.1">
      : Ask LLMs to generate entire functions based on a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.467.1">
       given description.
      </span>
     </span>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.468.1">
       Code explanation
      </span>
     </em>
     <span class="koboSpan" id="kobo.469.1">
      : Have LLMs explain existing code to better understand
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.470.1">
       its functionality.
      </span>
     </span>
    </li>
   </ul>
   <h4>
    <span class="koboSpan" id="kobo.471.1">
     Consider contextual information:
    </span>
   </h4>
   <ul>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.472.1">
       Project structure
      </span>
     </em>
     <span class="koboSpan" id="kobo.473.1">
      : Provide
     </span>
     <a id="_idIndexMarker288">
     </a>
     <span class="koboSpan" id="kobo.474.1">
      information about the project’s structure, dependencies,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.475.1">
       and conventions.
      </span>
     </span>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.476.1">
       Code style
      </span>
     </em>
     <span class="koboSpan" id="kobo.477.1">
      : Specify preferred coding styles
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.478.1">
       or guidelines.
      </span>
     </span>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.479.1">
       Best practices
      </span>
     </em>
     <span class="koboSpan" id="kobo.480.1">
      : Instruct the LLM to adhere to best practices and avoid
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.481.1">
       common pitfalls.
      </span>
     </span>
    </li>
   </ul>
   <h4>
    <span class="koboSpan" id="kobo.482.1">
     Combine human expertise with LLM capabilities:
    </span>
   </h4>
   <ul>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.483.1">
       Human oversight
      </span>
     </em>
     <span class="koboSpan" id="kobo.484.1">
      : Always have
     </span>
     <a id="_idIndexMarker289">
     </a>
     <span class="koboSpan" id="kobo.485.1">
      a human developer review and validate the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.486.1">
       generated code.
      </span>
     </span>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.487.1">
       Domain knowledge
      </span>
     </em>
     <span class="koboSpan" id="kobo.488.1">
      : Leverage human expertise to ensure the code aligns with specific
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.489.1">
       domain requirements.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.490.1">
     Here is an
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.491.1">
      example prompt:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.492.1">
"Write a Python function to calculate the factorial of a given non-negative integer."</span></pre>
   <p>
    <span class="koboSpan" id="kobo.493.1">
     Here is the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.494.1">
      LLM response:
     </span>
    </span>
   </p>
   <p>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.495.1">
      Python:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.496.1">
def factorial(n):
    if n == 0:
        return 1
    else:
        return n * factorial(n - 1)</span></pre>
   <p>
    <span class="koboSpan" id="kobo.497.1">
     Use code
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.498.1">
      with caution.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.499.1">
     Note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.500.1">
     While this code is correct, a human developer might suggest improvements, such as adding type hints or using a more efficient iterative approach for larger values
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.501.1">
      of
     </span>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.502.1">
      n
     </span>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.503.1">
      .
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.504.1">
     Remember
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.505.1">
     LLMs are a valuable tool for code generation, but they should be used along with human expertise to ensure the highest quality and maintainability of the code.
    </span>
    <span class="koboSpan" id="kobo.505.2">
     By following these guidelines and iteratively refining your prompts, you can effectively leverage LLMs to enhance your
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.506.1">
      coding productivity.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.507.1">
     Learning to read code does take practice, so keep practicing, and you’ll find it easier and more productive with time and work.
    </span>
    <span class="koboSpan" id="kobo.507.2">
     Collaboration is one of the most powerful tools we have to make
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.508.1">
      amazing things!
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.509.1">
     This section has been about bad and best practices when writing or generating code with LLMs: don’t use too many
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.510.1">
      if
     </span>
    </strong>
    <span class="koboSpan" id="kobo.511.1">
     statements, don’t make the code overly complex or with no comments, and don’t just add things randomly; do go back and forth with the LLM, provide the desired language version and context, such as the project structure, evaluate the code yourself, write simple functions, use descriptive names, document the code nicely, follow coding standards and conventions, handle errors, and so on.
    </span>
    <span class="koboSpan" id="kobo.511.2">
     We looked at some code that’s hard to understand and some that is easier to read and understand, and where to get the code from the Packt GitHub repo.
    </span>
    <span class="koboSpan" id="kobo.511.3">
     The next section is on how to summarize code you
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.512.1">
      don’t understand.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-87">
    <a id="_idTextAnchor110">
    </a>
    <span class="koboSpan" id="kobo.513.1">
     Summarizing code for understanding
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.514.1">
     This section is about
    </span>
    <a id="_idIndexMarker290">
    </a>
    <span class="koboSpan" id="kobo.515.1">
     how to summarize code you’re given or find that is opaque to you, the functioning of which you can’t quite figure out.
    </span>
    <span class="koboSpan" id="kobo.515.2">
     Alternatively, maybe you just don’t want to spend the time wracking your brain to figure it out when you can automate that process and save energy
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.516.1">
      and time.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.517.1">
     Here, I asked Gemini, from Alphabet, to give me some code I
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.518.1">
      don’t understand:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.519.1">
Could you write a longish, complicated script of Python 3.10 code and don't tell me what it does, very few comments and no text after the code.</span></pre>
   <p>
    <span class="koboSpan" id="kobo.520.1">
     This is the code from Gemini (+
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.521.1">
      Claude 3):
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.522.1">
import requests
from datetime import datetime, timedelta
import pandas as pd
import matplotlib.pyplot as plt
def fetch_data(url, params):
    response = requests.get(url, params=params)
    response.raise_for_status()  # Raise an exception for non-200 status codes
    return response.json()
def calculate_indicators(data):
    # Convert 'Close' column to float
    data['Close'] = data['Close'].astype(float)
    data["SMA"] = data["Close"].rolling(window=20).mean()
    data["RSI"] = calculate_rsi(data["Close"])
    return data
def calculate_rsi(closes, window=14):
    delta = closes.diff()
    delta = delta.dropna()
    gains = delta[delta &gt; 0]
    losses = -delta[delta &lt; 0]
    avg_gain = gains.ewm(alpha=1/window, min_periods=window).mean()
    avg_loss = losses.ewm(alpha=1/window, min_periods=window).mean().abs()
    rsi = 100 - 100 / (1 + avg_gain / avg_loss)
    return rsi
def plot_data(data, title):
    data[["Close", "SMA"]].plot(figsize=(12, 6), style=["b-", "g-"])
    data["RSI"].plot(ax=plt.twinx(), style="r-")
    plt.title(title)
    plt.show()
if __name__ == "__main__":
    base_url = "https://api.binance.com/api/v3/klines"
    symbol = "BTCUSDT"
    interval = "1d"  # Daily data
    today = datetime.utcnow()
    one_year_ago = today - timedelta(days=365)
    params = {
        "symbol": symbol,
        "interval": interval,
        "startTime": int(one_year_ago.timestamp() * 1000),  # Convert to Unix timestamp in milliseconds
        "endTime": int(today.timestamp() * 1000),  # Convert to Unix timestamp in milliseconds
    }
    data = fetch_data(base_url, params)
    data = pd.DataFrame(data)
    data.columns = ["Open Time", "Open", "High", "Low", "Close", "Volume", "Close Time", "Quote Asset Volume", "Number of Trades", "Taker Buy Base Asset Volume", "Taker Buy Quote Asset Volume", "Ignore"]
    data["Open Time"] = pd.to_datetime(data["Open Time"], unit="ms")
    data.set_index("Open Time", inplace=True)
    data = calculate_indicators(data.copy())
    plot_data(data, f"{symbol} Price &amp; Indicators (Past Year)")</span></pre>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.523.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.524.1">
     I got Claude 3 Sonnet to debug this code as it wouldn’t run – this is the final version (Gemini + Claude), but the explanation was done before
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.525.1">
      the debugging.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.526.1">
     In the code files, this is called
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.527.1">
      crypto_price_and_indicators.py
     </span>
    </strong>
    <span class="koboSpan" id="kobo.528.1">
     , which is what Claude called it, but that was extremely close to what I’d
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.529.1">
      called it.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.530.1">
     I don’t really want to run code that I don’t understand at all – it could be dangerous, theoretically, though I mostly trust Alphabet.
    </span>
    <span class="koboSpan" id="kobo.530.2">
     So, let’s see what ChatGPT can tell us
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.531.1">
      about this.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.532.1">
     This is the prompt to
    </span>
    <a id="_idIndexMarker291">
    </a>
    <span class="koboSpan" id="kobo.533.1">
     pass
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.534.1">
      to ChatGPT:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.535.1">
Explain code.
</span><span class="koboSpan" id="kobo.535.2">Hi, please explain this code to me, I have no idea what it does but it's in Python 3.&lt;code&gt;</span></pre>
   <p>
    <span class="koboSpan" id="kobo.536.1">
     This is the response
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.537.1">
      from ChatGPT:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.538.1">
This Python code fetches historical cryptocurrency price data from the Binance API, calculates some technical indicators (Simple Moving Average and Relative Strength Index), and then plots the data along with these indicators using pandas and matplotlib libraries.
</span><span class="koboSpan" id="kobo.538.2">Here’s a breakdown of what each part of the code does:
1. </span><span class="koboSpan" id="kobo.538.3">Importing libraries: The code imports necessary libraries such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.539.1">requests</span></strong><span class="koboSpan" id="kobo.540.1"> for making HTTP requests, </span><strong class="source-inline"><span class="koboSpan" id="kobo.541.1">datetime</span></strong><span class="koboSpan" id="kobo.542.1"> for handling dates and times, </span><strong class="source-inline"><span class="koboSpan" id="kobo.543.1">pandas</span></strong><span class="koboSpan" id="kobo.544.1"> for data manipulation and analysis, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.545.1">matplotlib.pyplot</span></strong><span class="koboSpan" id="kobo.546.1"> for plotting graphs.
</span><span class="koboSpan" id="kobo.546.2">2. </span><span class="koboSpan" id="kobo.546.3">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.547.1">fetch_data</span></strong><span class="koboSpan" id="kobo.548.1"> function: This function sends an HTTP GET request to the specified URL (the Binance API in this case) with the provided parameters. </span><span class="koboSpan" id="kobo.548.2">It then checks if the response status code is not 200 (indicating a successful request) and raises an exception if not. </span><span class="koboSpan" id="kobo.548.3">Finally, it returns the response data in JSON format.
</span><span class="koboSpan" id="kobo.548.4">3. </span><span class="koboSpan" id="kobo.548.5">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.549.1">calculate_indicators</span></strong><span class="koboSpan" id="kobo.550.1"> function: This function calculates two technical </span><a id="_idIndexMarker292"/><span class="koboSpan" id="kobo.551.1">indicators: </span><strong class="bold"><span class="koboSpan" id="kobo.552.1">Simple Moving Average</span></strong><span class="koboSpan" id="kobo.553.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.554.1">SMA</span></strong><span class="koboSpan" id="kobo.555.1">) and </span><strong class="bold"><span class="koboSpan" id="kobo.556.1">Relative Strength Index</span></strong><span class="koboSpan" id="kobo.557.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.558.1">RSI</span></strong><span class="koboSpan" id="kobo.559.1">). </span><span class="koboSpan" id="kobo.559.2">It</span><a id="_idIndexMarker293"/><span class="koboSpan" id="kobo.560.1"> uses the </span><strong class="source-inline"><span class="koboSpan" id="kobo.561.1">rolling()</span></strong><span class="koboSpan" id="kobo.562.1"> function from pandas to calculate the SMA, and a custom function, </span><strong class="source-inline"><span class="koboSpan" id="kobo.563.1">calculate_rsi()</span></strong><span class="koboSpan" id="kobo.564.1">, to compute the RSI.
</span><span class="koboSpan" id="kobo.564.2">4. </span><span class="koboSpan" id="kobo.564.3">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.565.1">calculate_rsi</span></strong><span class="koboSpan" id="kobo.566.1"> function: This function calculates the </span><strong class="bold"><span class="koboSpan" id="kobo.567.1">Relative Strength Index</span></strong><span class="koboSpan" id="kobo.568.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.569.1">RSI</span></strong><span class="koboSpan" id="kobo.570.1">) using the closing </span><a id="_idIndexMarker294"/><span class="koboSpan" id="kobo.571.1">prices of cryptocurrency. </span><span class="koboSpan" id="kobo.571.2">RSI is a momentum oscillator that measures the speed and change of price movements. </span><span class="koboSpan" id="kobo.571.3">It computes the average gains and losses over a specified window (the default is 14 days) and then uses these averages to calculate the RSI formula.
</span><span class="koboSpan" id="kobo.571.4">5. </span><span class="koboSpan" id="kobo.571.5">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.572.1">plot_data</span></strong><span class="koboSpan" id="kobo.573.1"> function: This function plots the closing price and SMA on the primary y axis and the RSI on the secondary y axis. </span><span class="koboSpan" id="kobo.573.2">It uses Matplotlib to create the plot and sets the title as provided.
</span><span class="koboSpan" id="kobo.573.3">6. </span><span class="koboSpan" id="kobo.573.4">Main code block: The </span><a id="_idIndexMarker295"/><span class="koboSpan" id="kobo.574.1">main block sets up parameters such as the base URL of the Binance API, the cryptocurrency symbol (BTCUSDT for Bitcoin priced in USDT), the data interval (1d for daily data), and start and end times for fetching historical data (one year ago from today), and then fetches the data using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.575.1">fetch_data</span></strong><span class="koboSpan" id="kobo.576.1"> function.
</span><span class="koboSpan" id="kobo.576.2">7. </span><span class="koboSpan" id="kobo.576.3">After fetching the data, it converts it to a pandas DataFrame, sets the column names, converts the timestamps to datetime format, and sets the timestamp column as the index. </span><span class="koboSpan" id="kobo.576.4">Then, it calculates the indicators using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.577.1">calculate_indicators</span></strong><span class="koboSpan" id="kobo.578.1"> function and plots the data using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.579.1">plot_data</span></strong><span class="koboSpan" id="kobo.580.1"> function.
</span><span class="koboSpan" id="kobo.580.2">8. </span><span class="koboSpan" id="kobo.580.3">Finally, it executes the main block only if the script is run directly (not imported as a module). </span><span class="koboSpan" id="kobo.580.4">It fetches the data, processes it, and plots the results for the past year.</span></pre>
   <p>
    <span class="koboSpan" id="kobo.581.1">
     ChatGPT broke down the functions for us and gave us a general overview, including what the main function does and even why those code libraries were imported.
    </span>
    <span class="koboSpan" id="kobo.581.2">
     ChatGPT even explained what RSI is.
    </span>
    <span class="koboSpan" id="kobo.581.3">
     This makes the reader feel rather confident about what the script does and what every element does.
    </span>
    <span class="koboSpan" id="kobo.581.4">
     That looks pretty good to me.
    </span>
    <span class="koboSpan" id="kobo.581.5">
     If you’re unsure that this was done well, you could copy the code and explanation into Claude or back into Gemini or another chatbot to check whether the explanation was correct in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.582.1">
      all parts.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.583.1">
     Looking over the code myself, I think it is an accurate explanation
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.584.1">
      from ChatGPT.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.585.1">
     The code worked and
    </span>
    <a id="_idIndexMarker296">
    </a>
    <span class="koboSpan" id="kobo.586.1">
     produced this plot of Bitcoin (BTC) prices in US Dollars Tether (USDT – a cryptocurrency tethered to the USD) and SMA indicator.
    </span>
    <span class="koboSpan" id="kobo.586.2">
     See
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.587.1">
       Figure 4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.588.1">
       .1
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.589.1">
      .
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer037">
     <span class="koboSpan" id="kobo.590.1">
      <img alt="Figure 4.1: Bitcoin historical price (wiggly blue line) versus USDT and SMA indicator in smooth green. The BTC price is on the left vertical axis [30000 to 70000]. The SMA is on the right vertical axis [-0.04 to 0.04]." src="image/B21009_04_1.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.591.1">
     Figure 4.1: Bitcoin historical price (wiggly blue line) versus USDT and SMA indicator in smooth green.
    </span>
    <span class="koboSpan" id="kobo.591.2">
     The BTC price is on the left vertical axis [30000 to 70000].
    </span>
    <span class="koboSpan" id="kobo.591.3">
     The SMA is on the right vertical axis [-0.04 to 0.04].
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.592.1">
     Now that you can have code explained to you, there’s probably only 1 more step up in complexity and explanation.
    </span>
    <span class="koboSpan" id="kobo.592.2">
     Especially if you want to publish your code, you might well want to fully document it so other coders can really work well with it by reading
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.593.1">
      the manual.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.594.1">
     The next section is for when you need to document your code so others can know what it’s for, how to troubleshoot it, and the best ways to use
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.595.1">
      your code.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-88">
    <a id="_idTextAnchor111">
    </a>
    <span class="koboSpan" id="kobo.596.1">
     Generating documentation
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.597.1">
     Let’s see the difference
    </span>
    <a id="_idIndexMarker297">
    </a>
    <span class="koboSpan" id="kobo.598.1">
     between explaining the preceding code and the full documentation of the code here.
    </span>
    <span class="koboSpan" id="kobo.598.2">
     Let’s get a direct comparison by using the preceding code for
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.599.1">
      the documentation.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.600.1">
     I asked Claude (because I believe it’s currently the best-performing LLM chatbot for code) to give me full documentation for the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.601.1">
      preceding code.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-89">
    <a id="_idTextAnchor112">
    </a>
    <span class="koboSpan" id="kobo.602.1">
     Documentation for crypto_price_and_indicators.py
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.603.1">
     Claude 3
    </span>
    <a id="_idIndexMarker298">
    </a>
    <span class="koboSpan" id="kobo.604.1">
     Sonnet responded
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.605.1">
      with this:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.606.1">
"Here's the complete and detailed documentation for the provided Python code:
Cryptocurrency Price and Indicators Fetcher
This Python script allows you to fetch historical cryptocurrency price data from the Binance API and calculate technical indicators such as the Simple Moving Average (SMA) and the Relative Strength Index (RSI). </span><span class="koboSpan" id="kobo.606.2">The script also provides a visualization of the price data and indicators using the Matplotlib library.
</span><span class="koboSpan" id="kobo.606.3">Prerequisites
Before running this script, you'll need to have the following Python libraries installed:
requests: Used to make HTTP requests to the Binance API.
</span><span class="koboSpan" id="kobo.606.4">pandas: Used for data manipulation and analysis.
</span><span class="koboSpan" id="kobo.606.5">matplotlib: Used for data visualization.
</span><span class="koboSpan" id="kobo.606.6">You can install these libraries using pip:
pip install requests pandas matplotlib
Usage
Save the provided Python code to a file (e.g., crypto_price_and_indicators.py).
</span><span class="koboSpan" id="kobo.606.7">Open a terminal or command prompt and navigate to the directory where the file is saved.
</span><span class="koboSpan" id="kobo.606.8">Run the script using the following command:
python crypto_price_and_indicators.py
The script will fetch the daily price data for Bitcoin (BTC) against the US Dollar (USDT) for the past year from the Binance API. </span><span class="koboSpan" id="kobo.606.9">It will then calculate the SMA and RSI indicators and display a plot with the price data and indicators.
</span><span class="koboSpan" id="kobo.606.10">Functions
The script contains the following functions:
fetch_data(url, params)
This function sends an HTTP GET request to the specified URL with the provided parameters and returns the API response as a JSON object.
</span><span class="koboSpan" id="kobo.606.11">Parameters:
url (str): The URL of the API endpoint.
</span><span class="koboSpan" id="kobo.606.12">params (dict): A dictionary containing the query parameters for the API request.
</span><span class="koboSpan" id="kobo.606.13">Returns:
The API response as a JSON object.
</span><span class="koboSpan" id="kobo.606.14">calculate_indicators(data)
This function calculates the SMA and RSI indicators for the provided price data.
</span><span class="koboSpan" id="kobo.606.15">Parameters:
data (pandas.DataFrame): A DataFrame containing the price data.
</span><span class="koboSpan" id="kobo.606.16">Returns:
The input DataFrame with two additional columns: SMA (Simple Moving Average) and RSI (Relative Strength Index).
</span><span class="koboSpan" id="kobo.606.17">calculate_rsi(closes, window=14)
This function calculates the Relative Strength Index (RSI) for the provided price data.
</span><span class="koboSpan" id="kobo.606.18">Parameters:
closes (pandas.Series): A Series containing the closing prices.
</span><span class="koboSpan" id="kobo.606.19">window (int, optional): The window size for the RSI calculation. </span><span class="koboSpan" id="kobo.606.20">Default is 14.
</span><span class="koboSpan" id="kobo.606.21">Returns:
A pandas.Series containing the RSI values.
</span><span class="koboSpan" id="kobo.606.22">plot_data(data, title)
This function creates a plot of the price data and indicators using Matplotlib.
</span><span class="koboSpan" id="kobo.606.23">Parameters:
data (pandas.DataFrame): A DataFrame containing the price data and indicators.
</span><span class="koboSpan" id="kobo.606.24">title (str): The title of the plot.
</span><span class="koboSpan" id="kobo.606.25">Returns:
None (displays the plot).
</span><span class="koboSpan" id="kobo.606.26">Main Execution
The main execution block of the script performs the following steps:
Defines the base URL of the Binance API and the cryptocurrency symbol (BTC/USDT) and interval (1 day).
</span><span class="koboSpan" id="kobo.606.27">Calculates the start and end times for fetching data from the past year.
</span><span class="koboSpan" id="kobo.606.28">Constructs the API request parameters.
</span><span class="koboSpan" id="kobo.606.29">Fetches the price data from the Binance API using the fetch_data function.
</span><span class="koboSpan" id="kobo.606.30">Converts the fetched data into a pandas DataFrame and performs some data preprocessing.
</span><span class="koboSpan" id="kobo.606.31">Calculates the SMA and RSI indicators using the calculate_indicators function.
</span><span class="koboSpan" id="kobo.606.32">Plots the price data and indicators using the plot_data function.
</span><span class="koboSpan" id="kobo.606.33">Note: The script is designed to fetch and analyze historical data for Bitcoin (BTC) against the US Dollar (USDT) for the past year. </span><span class="koboSpan" id="kobo.606.34">If you want to analyze a different cryptocurrency pair or a different time period, you'll need to modify the symbol and interval variables, as well as the startTime and endTime parameters in the params dictionary."</span></pre>
   <p>
    <span class="koboSpan" id="kobo.607.1">
     That documentation
    </span>
    <a id="_idIndexMarker299">
    </a>
    <span class="koboSpan" id="kobo.608.1">
     was very structured and went into the library requirements; it detailed every function: the parameters, what is returned by each function, and of course, the overall summary of what it does (at the beginning).
    </span>
    <span class="koboSpan" id="kobo.608.2">
     It even gave a note on how to improve
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.609.1">
      the functionality.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.610.1">
     Seriously, to say that this LLM technology is “revolutionary” would in no way be hyperbole!
    </span>
    <span class="koboSpan" id="kobo.610.2">
     This technology makes coding and documenting amazingly easy
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.611.1">
      and fast!
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.612.1">
     This is so much easier than writing everything by hand!
    </span>
    <span class="koboSpan" id="kobo.612.2">
     We are so lucky!
    </span>
    <span class="koboSpan" id="kobo.612.3">
     Yes, the examples given in this book are short but there is so much heavy lifting done by LLMs, and it will
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.613.1">
      improve too.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.614.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.615.1">
     As mind-blowing as this technology is, this is early 2024 technology and much more powerful, adaptable, and intelligent technology is coming at an accelerating rate.
    </span>
    <span class="koboSpan" id="kobo.615.2">
     So, this will be old
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.616.1">
      very soon.
     </span>
    </span>
   </p>
   <p class="callout">
    <em class="italic">
     <span class="koboSpan" id="kobo.617.1">
      Stay up to date!
     </span>
     <span class="koboSpan" id="kobo.617.2">
      Keep looking for new
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.618.1">
       coding tools.
      </span>
     </em>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.619.1">
     That’s it for
    </span>
    <a href="B21009_04.xhtml#_idTextAnchor100">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.620.1">
        Chapter 4
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.621.1">
     –
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.622.1">
      summary inbound.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-90">
    <a id="_idTextAnchor113">
    </a>
    <span class="koboSpan" id="kobo.623.1">
     Summary
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.624.1">
     In this chapter, we explored how to use LLMs to produce more readable code, summarize and explain existing code, and generate documentation for existing code.
    </span>
    <span class="koboSpan" id="kobo.624.2">
     Frankly, it was mind-blowing!
    </span>
    <span class="koboSpan" id="kobo.624.3">
     Coding is so easy
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.625.1">
      with LLMs!
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.626.1">
     In
    </span>
    <a href="B21009_05.xhtml#_idTextAnchor115">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.627.1">
        Chapter 5
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.628.1">
     , we will be addressing biases and ethical concerns in LLM-generated code.
    </span>
    <span class="koboSpan" id="kobo.628.2">
     Gemini caused some problems in February 2024, which were not popular with the public.
    </span>
    <span class="koboSpan" id="kobo.628.3">
     This is always a learning process, and hopefully, humans and AI will get better at generating
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.629.1">
      world-changing AI.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-91">
    <a id="_idTextAnchor114">
    </a>
    <span class="koboSpan" id="kobo.630.1">
     Bibliography
    </span>
   </h1>
   <ul>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.631.1">
       GameDev_Dieterich
      </span>
     </em>
     <span class="koboSpan" id="kobo.632.1">
      : “Most Programmers Can’t Read Code,” Robert
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.633.1">
       Dieterich,
      </span>
     </span>
     <a href="https://www.gamedeveloper.com/programming/most-programmers-can-t-read-code#close-modal">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.634.1">
        https://www.gamedeveloper.com/programming/most-programmers-can-t-read-code#close-modal
       </span>
      </span>
     </a>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.635.1">
       Ioijilai
      </span>
     </em>
     <span class="koboSpan" id="kobo.636.1">
      : “Neural/Learned Image Compression: An Overview,”
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.637.1">
       Ioijilai,
      </span>
     </span>
     <a href="mailto:https://medium.com/@loijilai_43024/learned-image-compression-an-overview-625f3ab709f2">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.638.1">
        https://medium.com/@loijilai_43024/learned-image-compression-an-overview-625f3ab709f2
       </span>
      </span>
     </a>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.639.1">
       O’Reilly_Algo_Flow
      </span>
     </em>
     <span class="koboSpan" id="kobo.640.1">
      : “ChapterÂ 4.Â Algorithms and Flow Control,” Nicholas C.
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.641.1">
       Zakas,
      </span>
     </span>
     <a href="https://www.oreilly.com/library/view/high-performance-javascript/9781449382308/ch04.html#:~:text=As%20it%20turns%20out%2C%20the,than%20it%20is%20for%20switch%20">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.642.1">
        https://www.oreilly.com/library/view/high-performance-javascript/9781449382308/ch04.html#:~:text=As%20it%20turns%20out%2C%20the,than%20it%20is%20for%20switch%20
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.643.1">
       .
      </span>
     </span>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.644.1">
       Quora_Chen
      </span>
     </em>
     <span class="koboSpan" id="kobo.645.1">
      : “What makes some code hard to read and some code easy to read?”, Howard
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.646.1">
       Chen,
      </span>
     </span>
     <a href="https://www.quora.com/What-makes-some-code-hard-to-read-and-some-code-easy-to-read">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.647.1">
        https://www.quora.com/What-makes-some-code-hard-to-read-and-some-code-easy-to-read
       </span>
      </span>
     </a>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.648.1">
       StackOverflow_switch
      </span>
     </em>
     <span class="koboSpan" id="kobo.649.1">
      : “When to use If-else if-else over switch statements and vice versa [duplicate]: concerning Readability:”, Sonu
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.650.1">
       Oommen,
      </span>
     </span>
     <a href="https://stackoverflow.com/questions/427760/when-to-use-if-else-if-else-over-switch-statements-and-vice-versa">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.651.1">
        https://stackoverflow.com/questions/427760/when-to-use-if-else-if-else-over-switch-statements-and-vice-versa
       </span>
      </span>
     </a>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.652.1">
       Taylor_2022
      </span>
     </em>
     <span class="koboSpan" id="kobo.653.1">
      : Phillip Taylor, Nathan Griffiths, Vince Hall, Zhou Xu, Alex Mouzakitis, “Feature selection for supervised learning and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.654.1">
       compression,“
      </span>
     </span>
     <a href="https://www.tandfonline.com/doi/full/10.1080/08839514.2022.2034293">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.655.1">
        https://www.tandfonline.com/doi/full/10.1080/08839514.2022.2034293
       </span>
      </span>
     </a>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.656.1">
       Wiki_Cosine
      </span>
     </em>
     <span class="koboSpan" id="kobo.657.1">
      : “Discrete cosine transform,”
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.658.1">
       Wikipedia,
      </span>
     </span>
     <a href="https://en.wikipedia.org/wiki/Discrete_cosine_transform">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.659.1">
        https://en.wikipedia.org/wiki/Discrete_cosine_transform
       </span>
      </span>
     </a>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.660.1">
       WikiDataComp
      </span>
     </em>
     <span class="koboSpan" id="kobo.661.1">
      : “Data compression
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.662.1">
       ratio,”
      </span>
     </span>
     <a href="https://en.wikipedia.org/wiki/Data_compression_ratio#:~:text=Definition,-Data%20compression%20ratio&amp;text=Thus%2C%20a%20representation%20that%20compresses,implicit%20ratio%2C%205%2F1">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.663.1">
        https://en.wikipedia.org/wiki/Data_compression_ratio#:~:text=Definition,-Data%20compression%20ratio&amp;text=Thus%2C%20a%20representation%20that%20compresses,implicit%20ratio%2C%205%2F1
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.664.1">
       .
      </span>
     </span>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.665.1">
       Wiki_LZMA2
      </span>
     </em>
     <span class="koboSpan" id="kobo.666.1">
      : “Lempel–Ziv–Markov chain algorithm,”
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.667.1">
       Wikipedia,
      </span>
     </span>
     <a href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.668.1">
        https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm
       </span>
      </span>
     </a>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.669.1">
       Wiki_Wavelets
      </span>
     </em>
     <span class="koboSpan" id="kobo.670.1">
      : “Wavelet
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.671.1">
       transform,”
      </span>
     </span>
     <a href="https://en.wikipedia.org/wiki/Wavelet_transform#Wavelet_compression">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.672.1">
        https://en.wikipedia.org/wiki/Wavelet_transform#Wavelet_compression
       </span>
      </span>
     </a>
    </li>
   </ul>
  </div>
 </body></html>